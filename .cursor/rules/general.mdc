---
description: General ALTERED Codebase Rules
alwaysApply: true
---

- After every successful main feature implementation, always suggest a relevant branch name, and a conventional commit message with a detailed body describing the changes. Use a conventional-commit style with the first line formatted as `<keyword>: <message>`. Both the commit message and the branch name should be provided in code blocks. They should also be character-escaped for `bash` - so that when we use `git` in the terminal, characters like double-quotes (`"`) don't break the CLI.
- As we strategize further about architectural patterns and code design, when a major choice is made that could be useful as future context - suggest it to me concisely and briefly at the end of the chat completion to be added to the `.cursor/rules/context.mdc` file. Or, if you believe a critical decision or insight belongs in a different rule or context file - suggest that instead.
- Explicitly ASK me before running any commands or changing any code, unless I explicitly state it in my message.
- Make micro-changes - do not do multiple TODO steps in one run. Create granular change using small, bite-sized reviewable chunks of 2-3 functions/components/files, then ASK for continuation.
- Always use `pnpm` and `pnpx`, etc in place of `npm` or alternatives.
- Always place generated Markdown agent context files in `./context/generated`. Maintain an `index.md` directory file within that file that indicates the purpose/scope/path of each context file. REMOVE or edit any **generated** context files that have become stale, inaccurate, or irrelevant.
- ALWAYS kebab-case (lowercase) new file names unless their consuming application _requires_ a specific casing to function properly.
- Always use config accessors like `application.locations.origins.current` for the base URL and other references (if they exist for the specific use case), instead of hardcoding the value.
- Use the custom logger from `~/lib/observability` (currently only in the Raycast extension) instead of `console.log`. In most cases, you should write `const logger = configureLogger({ ... })` at the top of the file and set some defaults (including a `scope`), then call `logger.<log_type>` to log some details. Check `.logs/app.log` after running the dev server to see the outputs.
